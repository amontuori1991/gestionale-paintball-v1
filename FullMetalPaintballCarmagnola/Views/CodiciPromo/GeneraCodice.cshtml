@model Full_Metal_Paintball_Carmagnola.Models.Promozione
@{
    ViewData["Title"] = "Codice Promozionale";
    var hasPromo = Model != null;
}

<div class="container text-center mt-5">
    <img src="~/img/logo.gif" alt="Logo" class="mb-4" style="max-width: 180px;" />

    <h2 class="mb-3">Richiedi il tuo Codice Promozionale</h2>
    <p class="lead">Inserisci il tuo account Instagram per ricevere il codice sconto.</p>

    <form method="post" asp-controller="CodiciPromo" asp-action="@(hasPromo ? "GeneraDaAlias" : "GeneraCodice")">
        @if (hasPromo)
        {
            <input type="hidden" name="alias" value="@Model.Alias" />
        }

        <input type="text" name="instagramHandle" class="form-control mb-3" placeholder="Tuo account Instagram" required />
        <button type="submit" class="btn btn-success">Ottieni il tuo codice</button>
    </form>

    @if (hasPromo)
    {
        <p class="mt-3 text-muted"><strong>Promo valida fino al @Model.DataScadenza.ToString("dd/MM/yyyy")</strong></p>
    }
</div>
